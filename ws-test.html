<!doctype html>
<meta charset="utf-8" />
<title>WS quick test</title>
<style> body{font-family:system-ui;padding:16px} textarea{width:100%;height:140px} </style>

<h1>WebSocket Quick Test</h1>
<label>WS URL:
  <input id="url" style="width:100%"
         value="wss://spring-salad-09fe.slvjek.workers.dev">
</label>
<p>Status: <b id="status">idle</b></p>

<button id="connect">Connect</button>
<button id="close">Close</button>

<h3>Send</h3>
<input id="msg" placeholder="type message then click Send" style="width:100%">
<button id="send">Send</button>

<h3>Logs</h3>
<textarea id="log" readonly></textarea>

<script>
const $ = (id)=>document.getElementById(id);
let ws; function log(...a){ const t=$('log'); t.value+=a.join(' ')+'\n'; t.scrollTop=t.scrollHeight; }
$('connect').onclick=()=>{
  const url=$('url').value.trim();
  ws=new WebSocket(url);
  $('status').textContent='connectingâ€¦';
  ws.onopen   =()=>{ $('status').textContent='connected'; log('[open]'); };
  ws.onmessage=(e)=>{ log('[message]', e.data); };
  ws.onclose  =()=>{ $('status').textContent='closed'; log('[close]'); };
  ws.onerror  =(e)=>{ $('status').textContent='error';  log('[error]', e.message||''); };
};
$('send').onclick =()=>{ if(ws&&ws.readyState===1) ws.send($('msg').value); };
$('close').onclick=()=>{ if(ws) ws.close(); };
</script>
